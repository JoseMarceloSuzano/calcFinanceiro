<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora Financeira Completa</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f5f5f5;
        margin: 0;
        padding: 20px;
    }
    h1 {
        text-align: center;
        margin-bottom: 20px;
    }
    .container {
        max-width: 600px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px #ccc;
    }
    label {
        font-weight: bold;
    }
    input {
        width: 100%;
        padding: 8px;
        margin: 8px 0 15px;
        border-radius: 5px;
        border: 1px solid #aaa;
    }
    button {
        width: 100%;
        padding: 12px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
    }
    button:hover {
        background: #0056b3;
    }
    .result {
        background: #e7f3ff;
        border-left: 4px solid #007bff;
        padding: 10px;
        margin-top: 20px;
        border-radius: 5px;
    }
</style>
</head>
<body>

<h1>Calculadora Financeira</h1>

<div class="container">

    <h3>üîπ Ponto de Equil√≠brio</h3>
    <label>Custo Fixo (R$)</label>
    <input type="number" id="custoFixo" placeholder="Ex: 5000">

    <label>Pre√ßo de Venda (R$)</label>
    <input type="number" id="precoVenda" placeholder="Ex: 150">

    <label>Custo Vari√°vel por Unidade (R$)</label>
    <input type="number" id="custoVariavel" placeholder="Ex: 60">

    <br><h3>üîπ Rentabilidade e Lucratividade</h3>

    <label>Lucro Obtido (R$)</label>
    <input type="number" id="lucro" placeholder="Ex: 3000">

    <label>Receita Total (R$)</label>
    <input type="number" id="receita" placeholder="Ex: 12000">

    <label>Investimento (R$)</label>
    <input type="number" id="investimento" placeholder="Ex: 8000">

    <br><h3>üîπ Markup</h3>

    <label>Despesas Fixas (%)</label>
    <input type="number" id="df" placeholder="Ex: 10">

    <label>Despesas Vari√°veis (%)</label>
    <input type="number" id="dv" placeholder="Ex: 15">

    <label>Margem de Lucro Desejada (%)</label>
    <input type="number" id="ml" placeholder="Ex: 20">

    <label>Gasto Total em Dinheiro (Custo do Produto - R$)</label>
    <input type="number" id="gastoDinheiro" placeholder="Ex: 50">

    <button onclick="calcular()">Calcular</button>

    <div class="result" id="resultado"></div>
</div>

<script>
function calcular() {
    // -------- PONTO DE EQUIL√çBRIO --------
    let custoFixo = parseFloat(document.getElementById("custoFixo").value);
    let precoVenda = parseFloat(document.getElementById("precoVenda").value);
    let custoVariavel = parseFloat(document.getElementById("custoVariavel").value);

    let margemContribuicao = precoVenda - custoVariavel;
    let pontoEquilibrioBruto = custoFixo / margemContribuicao;

    // Arredondar para baixo com 1 casa decimal
    let pontoEquilibrio = Math.floor(pontoEquilibrioBruto * 10) / 10;

    // -------- RENTABILIDADE / LUCRATIVIDADE --------
    let lucro = parseFloat(document.getElementById("lucro").value);
    let receita = parseFloat(document.getElementById("receita").value);
    let investimento = parseFloat(document.getElementById("investimento").value);

    let rentabilidade = (lucro / investimento) * 100;
    let lucratividade = (lucro / receita) * 100;

    // -------- MARKUP (DF + DV + ML) --------
    let df = parseFloat(document.getElementById("df").value);
    let dv = parseFloat(document.getElementById("dv").value);
    let ml = parseFloat(document.getElementById("ml").value);
    let gastoDinheiro = parseFloat(document.getElementById("gastoDinheiro").value);

    // F√≥rmula pedida
    let markupDivisor = 100 / (100 - (df + dv + ml));

    // Pre√ßo sugerido
    let precoFinalMarkup = markupDivisor * gastoDinheiro;

    // Markup percentual equivalente
    let markupPercentual = (markupDivisor - 1) * 100;

    // -------- EXIBIR RESULTADOS --------
    document.getElementById("resultado").innerHTML = `
        <h3>Resultados</h3>

        <strong>Ponto de Equil√≠brio:</strong> ${pontoEquilibrio.toFixed(0)} unidades<br><br>
        <strong>Rentabilidade:</strong> ${rentabilidade.toFixed(2)}%<br>
        <strong>Lucratividade:</strong> ${lucratividade.toFixed(2)}%<br><br>
        <strong>Pre√ßo Final Sugerido:</strong> R$ ${precoFinalMarkup.toFixed(2)}<br>
    `;
}
</script>

</body>
</html>
